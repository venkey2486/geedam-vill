{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{signin}from'../actions/userActions';import{saveOrder,listOrders,deleteOrder}from'../actions/orderActions';function OrdersScreen(props){console.log(\"dd\");var orderList=useSelector(function(state){return state.orderList;});var loading=orderList.loading,orders=orderList.orders,error=orderList.error;var orderDelete=useSelector(function(state){return state.orderDelete;});var loadingDelete=orderDelete.loading,successDelete=orderDelete.success,errorDelete=orderDelete.error;var dispatch=useDispatch();useEffect(function(){dispatch(listOrders());return function(){//\n};},[successDelete]);var deleteHandler=function deleteHandler(order){dispatch(deleteOrder(order._id));};return loading?/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\"):/*#__PURE__*/React.createElement(\"div\",{className:\"content content-margined\"},/*#__PURE__*/React.createElement(\"div\",{className:\"order-header\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Orders\")),/*#__PURE__*/React.createElement(\"div\",{className:\"order-list\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"DATE\"),/*#__PURE__*/React.createElement(\"th\",null,\"TOTAL\"),/*#__PURE__*/React.createElement(\"th\",null,\"USER\"),/*#__PURE__*/React.createElement(\"th\",null,\"PAID\"),/*#__PURE__*/React.createElement(\"th\",null,\"PAID AT\"),/*#__PURE__*/React.createElement(\"th\",null,\"DELIVERED\"),/*#__PURE__*/React.createElement(\"th\",null,\"DELIVERED AT\"),/*#__PURE__*/React.createElement(\"th\",null,\"ACTIONS\"))),/*#__PURE__*/React.createElement(\"tbody\",null,orders.map(function(order){return/*#__PURE__*/React.createElement(\"tr\",{key:order._id},/*#__PURE__*/React.createElement(\"td\",null,order._id),/*#__PURE__*/React.createElement(\"td\",null,order.createdAt),/*#__PURE__*/React.createElement(\"td\",null,order.totalPrice),/*#__PURE__*/React.createElement(\"td\",null,order.user.name),/*#__PURE__*/React.createElement(\"td\",null,order.isPaid.toString()),/*#__PURE__*/React.createElement(\"td\",null,order.paidAt),/*#__PURE__*/React.createElement(\"td\",null,order.isDelivered.toString()),/*#__PURE__*/React.createElement(\"td\",null,order.deliveredAt),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/order/\"+order._id,className:\"button secondary\"},\"Details\"),' ',/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return deleteHandler(order);},className:\"button secondary\"},\"Delete\")));})))));}export default OrdersScreen;","map":{"version":3,"sources":["D:/new pro/myg/frontend/src/screens/OrdersScreen.js"],"names":["React","useEffect","useState","Link","useSelector","useDispatch","signin","saveOrder","listOrders","deleteOrder","OrdersScreen","props","console","log","orderList","state","loading","orders","error","orderDelete","loadingDelete","successDelete","success","errorDelete","dispatch","deleteHandler","order","_id","map","createdAt","totalPrice","user","name","isPaid","toString","paidAt","isDelivered","deliveredAt"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,KAAuB,wBAAvB,CACA,OAASC,SAAT,CAAoBC,UAApB,CAAgCC,WAAhC,KAAmD,yBAAnD,CAEA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3BC,OAAO,CAACC,GAAR,CAAY,IAAZ,EACA,GAAMC,CAAAA,SAAS,CAAGV,WAAW,CAAC,SAAAW,KAAK,QAAIA,CAAAA,KAAK,CAACD,SAAV,EAAN,CAA7B,CAF2B,GAGnBE,CAAAA,OAHmB,CAGQF,SAHR,CAGnBE,OAHmB,CAGVC,MAHU,CAGQH,SAHR,CAGVG,MAHU,CAGFC,KAHE,CAGQJ,SAHR,CAGFI,KAHE,CAK3B,GAAMC,CAAAA,WAAW,CAAGf,WAAW,CAAC,SAAAW,KAAK,QAAIA,CAAAA,KAAK,CAACI,WAAV,EAAN,CAA/B,CAL2B,GAMVC,CAAAA,aANU,CAMoDD,WANpD,CAMnBH,OANmB,CAMcK,aANd,CAMoDF,WANpD,CAMKG,OANL,CAMoCC,WANpC,CAMoDJ,WANpD,CAM6BD,KAN7B,CAQ3B,GAAMM,CAAAA,QAAQ,CAAGnB,WAAW,EAA5B,CAEAJ,SAAS,CAAC,UAAM,CACduB,QAAQ,CAAChB,UAAU,EAAX,CAAR,CACA,MAAO,WAAM,CACX;AACD,CAFD,CAGD,CALQ,CAKN,CAACa,aAAD,CALM,CAAT,CAOA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/BF,QAAQ,CAACf,WAAW,CAACiB,KAAK,CAACC,GAAP,CAAZ,CAAR,CACD,CAFD,CAGA,MAAOX,CAAAA,OAAO,cAAG,4CAAH,cACZ,2BAAK,SAAS,CAAC,0BAAf,eAEE,2BAAK,SAAS,CAAC,cAAf,eACE,uCADF,CAFF,cAKE,2BAAK,SAAS,CAAC,YAAf,eAEE,6BAAO,SAAS,CAAC,OAAjB,eACE,8CACE,2CACE,mCADF,cAEE,qCAFF,cAGE,sCAHF,cAIE,qCAJF,cAKE,qCALF,cAME,wCANF,cAOE,0CAPF,cAQE,6CARF,cASE,wCATF,CADF,CADF,cAcE,iCACGC,MAAM,CAACW,GAAP,CAAW,SAAAF,KAAK,qBAAK,0BAAI,GAAG,CAAEA,KAAK,CAACC,GAAf,eACpB,8BAAKD,KAAK,CAACC,GAAX,CADoB,cAEpB,8BAAKD,KAAK,CAACG,SAAX,CAFoB,cAGpB,8BAAKH,KAAK,CAACI,UAAX,CAHoB,cAIpB,8BAAKJ,KAAK,CAACK,IAAN,CAAWC,IAAhB,CAJoB,cAKpB,8BAAKN,KAAK,CAACO,MAAN,CAAaC,QAAb,EAAL,CALoB,cAMpB,8BAAKR,KAAK,CAACS,MAAX,CANoB,cAOpB,8BAAKT,KAAK,CAACU,WAAN,CAAkBF,QAAlB,EAAL,CAPoB,cAQpB,8BAAKR,KAAK,CAACW,WAAX,CARoB,cASpB,2CACE,oBAAC,IAAD,EAAM,EAAE,CAAE,UAAYX,KAAK,CAACC,GAA5B,CAAiC,SAAS,CAAC,kBAA3C,YADF,CAEG,GAFH,cAGE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAMF,CAAAA,aAAa,CAACC,KAAD,CAAnB,EAA/B,CAA2D,SAAS,CAAC,kBAArE,WAHF,CAToB,CAAL,EAAhB,CADH,CAdF,CAFF,CALF,CADF,CA2CD,CACD,cAAehB,CAAAA,YAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { signin } from '../actions/userActions';\r\nimport { saveOrder, listOrders, deleteOrder } from '../actions/orderActions';\r\n\r\nfunction OrdersScreen(props) {\r\n  console.log(\"dd\")\r\n  const orderList = useSelector(state => state.orderList);\r\n  const { loading, orders, error } = orderList;\r\n\r\n  const orderDelete = useSelector(state => state.orderDelete);\r\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = orderDelete;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(listOrders());\r\n    return () => {\r\n      //\r\n    };\r\n  }, [successDelete]);\r\n\r\n  const deleteHandler = (order) => {\r\n    dispatch(deleteOrder(order._id));\r\n  }\r\n  return loading ? <div>Loading...</div> :\r\n    <div className=\"content content-margined\">\r\n\r\n      <div className=\"order-header\">\r\n        <h3>Orders</h3>\r\n      </div>\r\n      <div className=\"order-list\">\r\n\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>USER</th>\r\n              <th>PAID</th>\r\n              <th>PAID AT</th>\r\n              <th>DELIVERED</th>\r\n              <th>DELIVERED AT</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map(order => (<tr key={order._id}>\r\n              <td>{order._id}</td>\r\n              <td>{order.createdAt}</td>\r\n              <td>{order.totalPrice}</td>\r\n              <td>{order.user.name}</td>\r\n              <td>{order.isPaid.toString()}</td>\r\n              <td>{order.paidAt}</td>\r\n              <td>{order.isDelivered.toString()}</td>\r\n              <td>{order.deliveredAt}</td>\r\n              <td>\r\n                <Link to={\"/order/\" + order._id} className=\"button secondary\" >Details</Link>\r\n                {' '}\r\n                <button type=\"button\" onClick={() => deleteHandler(order)} className=\"button secondary\">Delete</button>\r\n              </td>\r\n            </tr>))}\r\n          </tbody>\r\n        </table>\r\n\r\n      </div>\r\n    </div>\r\n}\r\nexport default OrdersScreen; "]},"metadata":{},"sourceType":"module"}